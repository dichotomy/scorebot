/*
* Kendo UI Web v2012.1.322 (http://kendoui.com)
* Copyright 2012 Telerik AD. All rights reserved.
*
* Kendo UI Web commercial licenses may be obtained at http://kendoui.com/web-license
* If you do not own a commercial license, this file shall be governed by the
* GNU General Public License (GPL) version 3.
* For GPL requirements, please review: http://www.gnu.org/copyleft/gpl.html
*/
(function(a,b){var c=window.kendo,d=c.ui.Widget,e="k-invalid-msg",f="k-invalid",g=/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i,h=/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,i=":input:not(:button,[type=submit],[type=reset])",j="[type=number],[type=range]",k="blur",l="name",m="form",n="novalidate",o=a.proxy,p=function(a,b){typeof b=="string"&&(b=new RegExp("^(?:"+b+")$"));return b.test(a)},q=function(a,b,c){var d=a.val();if(a.filter(b).length&&d!=="")return p(d,c);return!0},r=function(a,c){if(a.length)return a[0].attributes[c]!==b;return!1},s=/(\[|\]|\$|\.|\:|\+)/g,t=d.extend({init:function(a,b){var e=this;d.fn.init.call(e,a,b),e._errorTemplate=c.template(e.options.errorTemplate),e.element.is(m)&&e.element.attr(n,n),e._errors={},e._attachEvents()},options:{name:"Validator",errorTemplate:'<span class="k-widget k-tooltip k-tooltip-validation"><span class="k-icon k-warning"> </span> ${message}</span>',messages:{required:"{0} is required",pattern:"{0} is not valid",min:"{0} should be greater than or equal to {1}",max:"{0} should be smaller than or equal to {1}",step:"{0} is not valid",email:"{0} is not valid email",url:"{0} is not valid URL",date:"{0} is not valid date"},rules:{required:function(a){var b=a.filter("[type=checkbox]").length&&a.attr("checked")!=="checked",c=a.val();return!r(a,"required")||c!==""&&!!c&&!b},pattern:function(a){if(a.filter("[type=text],[type=email],[type=url],[type=tel],[type=search]").filter("[pattern]").length&&a.val()!=="")return p(a.val(),a.attr("pattern"));return!0},min:function(a){if(a.filter(j+",["+c.attr("type")+"=number]").filter("[min]").length&&a.val()!==""){var b=parseFloat(a.attr("min"))||0,d=parseFloat(a.val());return b<=d}return!0},max:function(a){if(a.filter(j+",["+c.attr("type")+"=number]").filter("[max]").length&&a.val()!==""){var b=parseFloat(a.attr("max"))||0,d=parseFloat(a.val());return b>=d}return!0},step:function(a){if(a.filter(j+",["+c.attr("type")+"=number]").filter("[step]").length&&a.val()!==""){var b=parseFloat(a.attr("min"))||0,d=parseFloat(a.attr("step"))||0,e=parseFloat(a.val());return(e-b)*10%(d*10)/100===0}return!0},email:function(a){return q(a,"[type=email],["+c.attr("type")+"=email]",g)},url:function(a){return q(a,"[type=url],["+c.attr("type")+"=url]",h)},date:function(a){if(a.filter("[type^=date],["+c.attr("type")+"=date]").length&&a.val()!=="")return c.parseDate(a.val(),a.attr(c.attr("format")))!==null;return!0}},validateOnBlur:!0},_submit:function(a){if(!this.validate()){a.stopPropagation(),a.stopImmediatePropagation(),a.preventDefault();return!1}return!0},_attachEvents:function(){var b=this;b.element.is(m)&&b.element.submit(o(b._submit,b)),b.options.validateOnBlur&&(b.element.is(i)?b.element.bind(k,function(){b.validateInput(b.element)}):b.element.delegate(i,k,function(){b.validateInput(a(this))}))},validate:function(){var a=this,b,c,d=!1,e;a._errors={};if(!a.element.is(i)){b=a.element.find(i);for(c=0,e=b.length;c<e;c++)a.validateInput(b.eq(c))||(d=!0);return!d}return a.validateInput(a.element)},validateInput:function(b){b=a(b);var d=this,g=d._errorTemplate,h=d._checkValidity(b),i=h.valid,j="."+e,k=(b.attr(l)||"").replace(s,"\\$1"),m=c.attr("for"),n=d.element.find(j+"["+m+"="+k+"]").add(b.next(j)).hide(),o;if(!i){o=d._extractMessage(b,h.key),d._errors[k]=o;var p=a(g({message:o})).addClass(e).attr(m,k||"");n.replaceWith(p).length||p.insertAfter(b),p.show()}b.toggleClass(f,!i);return i},_extractMessage:function(b,d){var e=this,f=e.options.messages[d],g=b.attr(l);f=a.isFunction(f)?f(b):f;return c.format(b.attr(c.attr(d+"-msg"))||b.attr("validationMessage")||b.attr("title")||f||"",g,b.attr(d))},_checkValidity:function(a){var b=this.options.rules,c;for(c in b)if(!b[c](a))return{valid:!1,key:c};return{valid:!0}},errors:function(){var a=[],b=this._errors,c;for(c in b)a.push(b[c]);return a}});c.ui.plugin(t)})(jQuery)